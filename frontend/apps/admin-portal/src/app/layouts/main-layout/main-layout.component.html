<div class="layout-wrapper" [class.sidebar-collapsed]="isSidebarCollapsed()">
  <!-- Top Navbar -->
  <nav class="main-navbar">
    <div class="navbar-left">
      <button
        pButton
        type="button"
        icon="pi pi-bars"
        class="p-button-text p-button-plain sidebar-toggle"
        (click)="toggleSidebar()"
        pTooltip="Toggle Menu"
        tooltipPosition="bottom"
      ></button>
      <span class="navbar-brand">QLTS - Asset Management</span>
    </div>

    <div class="navbar-right">
      <!-- Messages -->
      <button
        pButton
        type="button"
        icon="pi pi-envelope"
        class="p-button-text p-button-plain navbar-icon"
        pBadge
        value="3"
        severity="danger"
        pTooltip="Messages"
        tooltipPosition="bottom"
      ></button>

      <!-- Notifications -->
      <button
        pButton
        type="button"
        icon="pi pi-bell"
        class="p-button-text p-button-plain navbar-icon"
        pBadge
        value="5"
        severity="warning"
        pTooltip="Notifications"
        tooltipPosition="bottom"
      ></button>

      <!-- Language Switcher -->
      <div class="navbar-language">
        <app-language-switcher></app-language-switcher>
      </div>

      <!-- User Menu -->
      <div class="navbar-user">
        <button
          pButton
          type="button"
          class="p-button-text p-button-plain user-menu-trigger"
          (click)="userMenu.toggle($event)"
        >
          <p-avatar
            [label]="authService.currentUser()?.fullName?.charAt(0) || 'U'"
            shape="circle"
            styleClass="user-avatar"
          ></p-avatar>
          <span class="user-name-nav">{{ authService.currentUser()?.fullName }}</span>
          <i class="pi pi-angle-down"></i>
        </button>

        <p-menu #userMenu [model]="userMenuItems" [popup]="true" styleClass="user-dropdown"></p-menu>
      </div>
    </div>
  </nav>

  <!-- Sidebar -->
  <aside class="layout-sidebar">
    <div class="sidebar-brand">
      <i class="pi pi-box brand-icon"></i>
      <span class="brand-text">QLTS</span>
    </div>

    <div class="sidebar-menu">
      <p-panelMenu [model]="menuItems()" styleClass="w-full"></p-panelMenu>
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="layout-main">
    <router-outlet></router-outlet>
  </main>
</div>
