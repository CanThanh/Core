<p-dialog
  [(visible)]="visible"
  [header]="getDialogHeader()"
  [modal]="true"
  [style]="{ width: '500px' }"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onClose()">

  <form [formGroup]="roleForm" (ngSubmit)="onSave()">
    <div class="p-fluid">
      <div class="field">
        <label for="name">Name *</label>
        <input
          pInputText
          id="name"
          formControlName="name"
          placeholder="Enter role name"
          [class.ng-invalid]="roleForm.get('name')?.invalid && roleForm.get('name')?.touched" />
        <small class="p-error" *ngIf="roleForm.get('name')?.invalid && roleForm.get('name')?.touched">
          Name is required (min 2 characters)
        </small>
      </div>

      <div class="field">
        <label for="description">Description</label>
        <textarea
          pInputTextarea
          id="description"
          formControlName="description"
          placeholder="Enter role description"
          rows="3">
        </textarea>
      </div>

      <div class="field" *ngIf="mode === 'edit'">
        <label for="status">Status</label>
        <p-dropdown
          id="status"
          formControlName="isActive"
          [options]="statusOptions"
          placeholder="Select status"
          styleClass="w-full">
        </p-dropdown>
      </div>
    </div>

    <div class="flex justify-content-end gap-2 mt-4">
      <button
        pButton
        type="button"
        label="Cancel"
        class="p-button-text"
        (click)="onClose()">
      </button>
      <button
        pButton
        type="submit"
        label="Save"
        [disabled]="roleForm.invalid">
      </button>
    </div>
  </form>
</p-dialog>
